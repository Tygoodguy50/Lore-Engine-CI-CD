load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "validator",
    srcs = [
        "baked_in.go",
        "cache.go",
        "country_codes.go",
        "currency_codes.go",
        "doc.go",
        "errors.go",
        "field_level.go",
        "postcode_regexes.go",
        "regexes.go",
        "struct_level.go",
        "translations.go",
        "util.go",
        "validator.go",
        "validator_instance.go",
    ],
    importpath = "github.com/go-playground/validator/v10",
    importpath_aliases = ["github.com/go-playground/validator"],
    visibility = ["//visibility:public"],
    deps = [
        "@com_github_gabriel_vasile_mimetype//:mimetype",
        "@com_github_go_playground_universal_translator//:universal-translator",
        "@com_github_leodido_go_urn//:go-urn",
        "@org_golang_x_crypto//sha3",
        "@org_golang_x_text//language",
    ],
)

alias(
    name = "go_default_library",
    actual = ":validator",
    visibility = ["//visibility:public"],
)

go_test(
    name = "validator_test",
    srcs = [
        "benchmarks_test.go",
        "validator_test.go",
    ],
    embed = [":validator"],
    deps = [
        "@com_github_go_playground_assert_v2//:go_default_library",
        "@com_github_go_playground_locales//en",
        "@com_github_go_playground_locales//fr",
        "@com_github_go_playground_locales//nl",
        "@com_github_go_playground_universal_translator//:universal-translator",
    ],
)
